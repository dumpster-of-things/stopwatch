<!DOCTYPE html>
<html>
  <head>
    <style>
      body { background-color: #00FF00; }
      ._ {
        background-color: transparent;
        font-family: 'Comfortaa', sans-serif, 'Fira Code', monospace;
        font-size: 36px;
        color: #999693;
        text-shadow: 0px 2px 5px rgba(0, 0, 0, 0.5), 0px -2px 5px rgba(0, 0, 0, 0.5), -2px 0px 5px rgba(0, 0, 0, 0.5), 2px 0px 5px rgba(0, 0, 0, 0.5);
        background-blend-mode: color-burn;
      }
      .stopwatch {
        position: fixed;
        font-family: 'Fira Code', monospace, 'Comfortaa', sans-serif;
        font-size: 42px;
        color: #F3E6D9;
        text-shadow: 0px 2px 5px rgba(0, 0, 0, 0.5), 0px -2px 5px rgba(0, 0, 0, 0.5), -2px 0px 5px rgba(0, 0, 0, 0.5), 2px 0px 5px rgba(0, 0, 0, 0.5);
      }
      #timer { display: none; }
    </style>
  </head>
  <body>
    <button id=8 class="_" onclick="initimer(this)">H</button><button id=7 class="_" onclick="initimer(this)">H</button><a class="_">:</a><button id=6 class="_" onclick="initimer(this)">M</button><button id=5 class="_" onclick="initimer(this)">M</button><a class="_">:</a><button id=4 class="_" onclick="initimer(this)">S</button><button id=3 class="_" onclick="initimer(this)">S</button><a class="_">.</a><button id=2 class="_" onclick="initimer(this)">N</button><button id=1 class="_" onclick="initimer(this)">N</button><button id=0 class="_" onclick="initimer(this)">N</button>
    <div id="timer" class="stopwatch" onclick="toggleTimer()">00:00:00:000</div>
    <script>
      var timerId;
      var isRunning = false;
      var startTime;
      var elapsedTime = 0;
      var rate = 100;
      function initimer(b) {
        rate = b.id < 1 ? 1 : 10**b.id ;
        elements = document.getElementsByClassName(b.className);
        for (var i = 0; i < elements.length; i++){
          elements[i].style.display = "none";
        }
        var x = document.getElementById('timer');
        x.style.display = "unset";
        //toggleTimer();
      }
      function toggleTimer() {
        if (isRunning) {// Pause the timer
          clearInterval(timerId);
          isRunning = false;
        } else {// Resume or start the timer
          isRunning = true;
          startTime = Date.now() - elapsedTime;
          timerId = setInterval(function() {
            var currentTime = Date.now() - startTime;
            updateTimer(currentTime);
          }, rate);
        }
      }
      function updateTimer(currentTime) {
        var timerElement = document.getElementById('timer');
        elapsedTime = currentTime; // Update elapsed time
        let h,m,s,z;
        h = Math.floor(currentTime/1000/60/60);
        if (h <= 9) { h = "0" + h; }
        m = Math.floor((currentTime/1000/60/60 - h)*60);
        if (m <= 9) { m = "0" + m; }
        s = Math.floor(((currentTime/1000/60/60 - h)*60 - m)*60);
        if (s <= 9) { s = "0" + s; }
        z = Math.floor((((currentTime/1000/60/60 - h)*60 - m)*60 - s)*1000);
        if (z <= 9) { z = "00" + z; } else { if (z <= 99) { z = "0" + z; }; }
        timerElement.innerHTML = `${h}:${m}:${s}.${z}`;
      }
    </script>
  </body>
</html>
